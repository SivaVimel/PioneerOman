import{c as i}from"./index.BOXtcntR.js";class n extends HTMLElement{#e;#t;#s;constructor(){super(),this.#e=this.querySelector("button"),this.#t=this.querySelector("ul"),this.#s=this.#t.querySelectorAll("a")}onClick=t=>{if(t.target===this.#e||this.#e.contains(t.target)){this.#t.classList.toggle("open");return}this.#t.classList.contains("open")&&!this.contains(t.target)&&this.#t.classList.remove("open")};onBlur=t=>{this.contains(t.relatedTarget)||this.#t.classList.remove("open")};connectedCallback(){document.addEventListener("click",this.onClick.bind(this)),this.#e.addEventListener("blur",this.onBlur.bind(this)),this.#s.forEach(t=>{t.addEventListener("blur",this.onBlur.bind(this))}),this.addEventListener("click",t=>{const e=t.target,s=e?.closest("a");if(!s?.hreflang){console.warn("LocaleSelector: missing required hreflang attribute",{target:e});return}document.cookie=`${i}=${s.hreflang}; path=/`})}disconnectedCallback(){document.removeEventListener("click",this.onClick.bind(this))}}customElements.define("locale-selector",n);
